{% extends 'base.html' %}
{% load static %}

{% block extrahead %}
<link rel="stylesheet" href="{% static 'main.css' %}">
<link rel="stylesheet" href="{% static 'management.css' %}">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<style>
    body {
        text-align: center;
    }

    header {
        text-align: center;
    }

    table {
        margin: 0 auto;
        /* Center the table */
        border-collapse: collapse;
    }

    th,
    td {
        border: 1px solid black;
        padding: 8px;
        text-align: center;
    }

    form {
        margin-bottom: 20px;
    }
</style>
{% endblock %}

{% block content %}

<body>
    <header>
        <img src="{% static 'Oikos_logo.png' %}" alt="Oikos_logo" height="100px">
    </header>

    <br><br><br><br><br><br><br>

    <!-- Search Bar input here -->
    <form method="get" action="{% url 'smartmirror:view' %}">
        <input type="text" name="uid" placeholder="UID를 입력해주세요" value="{{ request.GET.uid }}">
        <button type="submit">조회</button>
    </form>

    <br><br><br>

    <!-- Data Table -->
    <table>
        <thead>
            <tr>
                <th>UID</th>
                <th>게임 이름</th>
                <th>날짜</th>
                <th>점수</th>
            </tr>
        </thead>
        <tbody>
            {% for record in game_records %}
            <tr>
                <td>{{ record.uid }}</td>
                <td>{{ record.game_type }}</td>
                <td>{{ record.start_ts }}</td>
                <td>{{ record.finish_ts }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    {% if not game_records %}
    <p>기록이 없습니다.</p>
    {% endif %}

</body>
{% endblock %}